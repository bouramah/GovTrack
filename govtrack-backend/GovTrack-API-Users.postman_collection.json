{
	"info": {
		"name": "üë• Gestion des Utilisateurs (Partie 1)",
		"description": "Endpoints pour la gestion des utilisateurs, entit√©s, r√¥les et permissions"
	},
	"item": [
		{
			"name": "üè¢ Entit√©s",
			"item": [
				{
					"name": "Lister toutes les entit√©s",
					"request": {
						"method": "GET",
						"url": "{{baseUrl}}/entites",
						"description": "R√©cup√©rer la liste compl√®te des entit√©s avec leurs hi√©rarchies"
					}
				},
				{
					"name": "Voir une entit√© sp√©cifique",
					"request": {
						"method": "GET",
						"url": "{{baseUrl}}/entites/1",
						"description": "D√©tails d'une entit√© avec employ√©s actuels et chef"
					}
				},
				{
					"name": "Organigramme complet",
					"request": {
						"method": "GET",
						"url": "{{baseUrl}}/entites/organigramme",
						"description": "Structure hi√©rarchique compl√®te de l'organisation"
					}
				},
				{
					"name": "Utilisateurs d'une entit√©",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{baseUrl}}/entites/1/utilisateurs?statut=actuel&role=tous&include_historique=false",
							"host": ["{{baseUrl}}"],
							"path": ["entites", "1", "utilisateurs"],
							"query": [
								{"key": "statut", "value": "actuel", "description": "actuel | historique | tous"},
								{"key": "role", "value": "tous", "description": "chef | employe | tous"},
								{"key": "include_historique", "value": "false", "description": "Inclure l'historique des affectations"}
							]
						},
						"description": "R√©cup√©rer tous les utilisateurs d'une entit√© avec filtres avanc√©s"
					}
				},
				{
					"name": "Cr√©er une entit√©",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nom\": \"Nouveau Service\",\n  \"type_entite_id\": 2,\n  \"parent_id\": 1,\n  \"description\": \"Description du nouveau service\"\n}"
						},
						"url": "{{baseUrl}}/entites",
						"description": "Cr√©er une nouvelle entit√© (permission: manage_entities)"
					}
				},
				{
					"name": "Affecter un chef d'entit√©",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": 2,\n  \"date_debut\": \"2025-01-15\",\n  \"commentaire\": \"Nomination nouveau chef de service\"\n}"
						},
						"url": "{{baseUrl}}/entites/1/affecter-chef",
						"description": "Affecter ou changer le chef d'une entit√©"
					}
				}
			]
		},
		{
			"name": "üë§ Utilisateurs",
			"item": [
				{
					"name": "Lister tous les utilisateurs",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{baseUrl}}/users?statut=actif&entite_id=1&page=1&per_page=10",
							"host": ["{{baseUrl}}"],
							"path": ["users"],
							"query": [
								{"key": "statut", "value": "actif", "description": "actif | inactif | tous"},
								{"key": "entite_id", "value": "1", "description": "Filtrer par entit√©"},
								{"key": "page", "value": "1"},
								{"key": "per_page", "value": "10"}
							]
						},
						"description": "Liste pagin√©e des utilisateurs avec filtres"
					}
				},
				{
					"name": "Cr√©er un utilisateur",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"matricule\": \"EMP004\",\n  \"nom\": \"Seck\",\n  \"prenom\": \"Moussa\",\n  \"email\": \"moussa.seck@govtrack.gov\",\n  \"telephone\": \"+221 77 456 78 90\",\n  \"adresse\": \"Dakar, S√©n√©gal\",\n  \"password\": \"password123\"\n}"
						},
						"url": "{{baseUrl}}/users",
						"description": "Cr√©er un nouvel utilisateur (permission: manage_users)"
					}
				},
				{
					"name": "Affecter un utilisateur √† une entit√©",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"poste_id\": 2,\n  \"service_id\": 1,\n  \"date_debut\": \"2025-01-15\",\n  \"commentaire\": \"Nouvelle affectation\"\n}"
						},
						"url": "{{baseUrl}}/users/3/affecter",
						"description": "Affecter un utilisateur √† un poste dans une entit√©"
					}
				},
				{
					"name": "Assigner un r√¥le √† un utilisateur",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role_id\": 2\n}"
						},
						"url": "{{baseUrl}}/users/3/assign-role",
						"description": "Assigner un r√¥le √† un utilisateur"
					}
				}
			]
		},
		{
			"name": "üé≠ R√¥les & Permissions",
			"item": [
				{
					"name": "Lister tous les r√¥les",
					"request": {
						"method": "GET",
						"url": "{{baseUrl}}/roles",
						"description": "Liste compl√®te des r√¥les avec leurs permissions"
					}
				},
				{
					"name": "Lister toutes les permissions",
					"request": {
						"method": "GET",
						"url": "{{baseUrl}}/permissions",
						"description": "Liste compl√®te des permissions disponibles"
					}
				},
				{
					"name": "Cr√©er un nouveau r√¥le",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nom\": \"Chef de Projet\",\n  \"description\": \"Responsable de la gestion des projets\"\n}"
						},
						"url": "{{baseUrl}}/roles",
						"description": "Cr√©er un nouveau r√¥le (permission: manage_users)"
					}
				},
				{
					"name": "Assigner une permission √† un r√¥le",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"permission_id\": 7\n}"
						},
						"url": "{{baseUrl}}/roles/4/assign-permission",
						"description": "Assigner une permission √† un r√¥le existant"
					}
				}
			]
		}
	]
}
