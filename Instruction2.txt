Analyse d'Impact RÃ©visÃ©e : Porteurs ET Responsables Multiples
ğŸ“Š Ã‰tat Actuel
Actuellement, le systÃ¨me fonctionne avec :
1 porteur principal par projet (porteur_id)
1 donneur d'ordre par projet (donneur_ordre_id)
1 responsable par tÃ¢che (responsable_id)
ï¿½ï¿½ Changement DemandÃ©
Permettre d'associer plusieurs personnes :
Porteurs multiples par instruction (sans rÃ´les hiÃ©rarchiques)
Responsables multiples par tÃ¢che (sans rÃ´les hiÃ©rarchiques)
ğŸ—ï¸ Impact Technique Global

3. Frontend ğŸ¨
Types TypeScript
Apply
}
Composants Ã  Modifier
ProjectModal.tsx
Apply
>
NewTaskModal.tsx
Apply
>
ProjectDetailPage.tsx
Apply
>
TacheDetailModal.tsx
Apply
>
Nouveaux Composants
MultiSelect.tsx
Apply
}
4. Notifications ğŸ“§
Listeners Ã  Modifier
SendProjetCreatedNotification.php
Apply
}
SendTacheCreatedNotification.php
Apply
}
Autres Listeners ImpactÃ©s
SendProjetStatusChangedNotification.php
SendProjetExecutionLevelUpdatedNotification.php
SendTacheStatusChangedNotification.php
SendTacheExecutionLevelUpdatedNotification.php
SendDiscussionProjetCreatedNotification.php
SendDiscussionTacheCreatedNotification.php
5. Permissions et SÃ©curitÃ© ğŸ”
Middleware CheckPermission.php
Apply
}
Hooks Frontend
Apply
}
6. Interface Utilisateur ï¿½ï¿½
Nouvelles FonctionnalitÃ©s UI
Gestion des Porteurs/Responsables
Modal d'assignation multiple
Liste des assignÃ©s avec dates d'assignation
Actions : ajouter, retirer
Historique des assignations
Tableaux de Bord
Filtres par porteur/responsable (sÃ©lection multiple)
Statistiques par assignÃ©
Vues personnalisÃ©es selon les assignations
Kanban et Calendrier
Affichage des assignÃ©s multiples sur les cartes
Filtres par assignÃ© dans les vues
7. Migration des DonnÃ©es ğŸ“Š
Script de Migration
Apply
}
8. Tests ğŸ§ª
Tests Ã  Ajouter/Modifier
Tests unitaires pour les nouvelles relations
Tests d'intÃ©gration pour l'API des assignations multiples
Tests de permissions avec assignations multiples
Tests de notifications avec plusieurs assignÃ©s
Tests frontend pour les nouveaux composants
9. Documentation ğŸ“š
Mise Ã  Jour NÃ©cessaire
README backend et frontend
Documentation API avec nouveaux endpoints
Guide des permissions mis Ã  jour
Changelog dÃ©taillÃ©
ğŸš¨ Risques et ConsidÃ©rations
Risques Techniques
Performance : RequÃªtes plus complexes avec JOINs multiples
CompatibilitÃ© : Code existant qui utilise porteur_id et responsable_id
Migration : DonnÃ©es existantes Ã  migrer
Tests : Tous les tests Ã  adapter
Risques MÃ©tier
ResponsabilitÃ© : Qui est responsable final ?
Notifications : Spam si trop d'assignÃ©s
Permissions : Logique plus complexe
Formation : Utilisateurs Ã  former
ğŸ“‹ Plan d'ImplÃ©mentation RecommandÃ©
Phase 1 : Backend Foundation
CrÃ©er les migrations et les modÃ¨les
ImplÃ©menter les nouvelles relations
Adapter les contrÃ´leurs API
Modifier le systÃ¨me de permissions
Phase 2 : Frontend Adaptation
CrÃ©er les nouveaux composants UI (MultiSelect)
Adapter les formulaires existants
Modifier les types TypeScript
Tester l'interface utilisateur
Phase 3 : Notifications et Tests
Adapter tous les listeners de notifications
Ã‰crire les tests complets
Tester les permissions
Validation mÃ©tier
Phase 4 : Migration et DÃ©ploiement
Script de migration des donnÃ©es
Tests en environnement de staging
Formation des utilisateurs
DÃ©ploiement progressif